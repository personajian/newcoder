## 数据库事务

### ACID

1. 原子性
2. 一致性
3. 隔离性
4. 持久性

**一致性**是最终目标。
**重执行日志**保证原子性、一致性和持久性。

### 数据并发

数据并发带来的五类问题：

- 3类数据读问题：

    1. 脏读：读到尚未提交事务的更改数据。
    2. 不可重复读：读到已提交事务的更改数据。
    3. 幻象读：读到其他已提交事务的新增数据。

- 2类数据更新问题：

    1. 第一类丢失更新：事务**撤销**，覆盖其他事务已提交的数据->丢失了更新（撤销致丢失）。
    2. 第二类丢失更新：事务**提交**，覆盖其他事务已提交的数据->丢失了更新（提交致丢失）。
