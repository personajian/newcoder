#### 参考文章

1. 《Java编程思想》
2. [Java注解](http://www.cnblogs.com/doit8791/p/4886567.html)
3. [Java中使用注解和使用配置文件各有什么优缺点？](https://segmentfault.com/q/1010000000476689)

## 注解

#### 1、注解的定义

>注解就是源代码的元数据。

>注解（也成元数据）为我们在代码中添加信息提供了一种**形式化**的方法，是我们可以在稍后某个时刻非常方便地使用这些数据。

形式化方法：@annotation

稍后某个时刻非常方便地使用这些数据：通过**反射机制**来**解析注解**使用这些数据。

>所以说，注解是离不开反射机制的！

#### 2、注解的作用

注解作用：**每当你创建描述符性质的类或者接口时,一旦其中包含重复性的工作，就可以考虑使用注解来简化与自动化该过程。**

常见作用有：

1. 编写文档：
2. 编译检查：
3. 代码分析：框架中使用，实现替代配置文件的作用

比如，

```java
@Override
public String toString() {
		return "This is String Representation of current object.";
}
```
上面的代码中，我重写了toString()方法并使用了@Override注解。但是，即使我不使用@Override注解标记代码，程序也能够正常执行。那么，该注解表示什么？这么写有什么好处吗？事实上，@Override告诉编译器这个方法是一个重写方法(描述方法的元数据)，如果父类中不存在该方法，编译器便会报错，提示该方法没有重写父类中的方法。如果我不小心拼写错误，例如将toString()写成了toStrring(){double r}，而且我也没有使用@Override注解，那程序依然能编译运行。但运行结果会和我期望的大不相同。现在我们了解了什么是注解，并且使用注解有助于阅读程序。

再比如，

比如Junit3和Junit4 ，比如Servlet2与Servlet3 比如Hibernate3与Hibernate4 比如Spring2之后的Spring版本，都引用注解这一机制，作用就是**利用注解将一些本来重复性的工作，变成程序自动完成，简化和自动化该过程**（PostScript：上述各个组件我也不是很熟悉，具体加入注解的版本是几不一定正确）。

#### 2、为什么需要注解

假如你想为应用设置很多的常量或参数，这种情况下，XML是一个很好的选择，因为它不会同特定的代码相连。如果你想把某个方法声明为服务，那么使用Annotation会更好一些，因为这种情况下需要注解和方法紧密耦合起来，开发人员也必须认识到这点。

另一个很重要的因素是Annotation定义了一种标准的描述元数据的方式。在这之前，开发人员通常使用他们自己的方式定义元数据。例如，使用标记interfaces，注释，transient关键字等等。每个程序员按照自己的方式定义元数据，而不像Annotation这种标准的方式

**跟代码关系紧密需要紧耦合的情况用注解，其它为松耦合配置用xml。**

#### 3、四种元注解

J2SE5.0版本在 java.lang.annotation提供了四种元注解，专门注解其他的注解：

- @Documented –注解是否将包含在JavaDoc中
- @Retention –什么时候使用该注解
- @Target? –注解用于什么地方
- @Inherited – 是否允许子类继承该注解

@Target:
说明了Annotation所修饰的对象的作用：用户描述注解的使用范围（即：被描述的注解可以用在什么地方）
取值(ElementType)有：
　1.CONSTRUCTOR:用于描述构造器
　2.FIELD:用于描述域
　3.LOCAL_VARIABLE:用于描述局部变量
　4.METHOD:用于描述方法
　5.PACKAGE:用于描述包
　6.PARAMETER:用于描述参数
　7.TYPE:用于描述类、接口(包括注解类型) 或enum声明

@Retention:
作用：表示需要在什么级别保存该注释信息，用于描述注解的生命周期（即：被描述的注解在什么范围内有效）
取值（RetentionPolicy）
1.SOURCE:在源文件中有效
2.CLASS:在class文件中有效
3.RUNTIME:在运行时有效
取RUNTIME时，注解处理器可以通过反射，获取到该注解的属性值，做一些运行时的逻辑处理。

@Documented:
这是一个标记注解
用于描述其它类型的annotation应该被作为标注的程序成员的公共api，可以文档化

@Inherited:
标记注解
用该注解修饰的注解，会被子类继承。

#### 4、Annotation 的优缺点
　Annotation 的优点 
　　１、保存在 class 文件中，降低维护成本。 
　　２、无需工具支持，无需解析。 
　　３、编译期即可验证正确性，查错变得容易。 
　　４、提升开发效率。 
　Annotation 缺点： 
　　１、若要对配置项进行修改，不得不修改 Java 文件，重新编译打包应用。 
　　２、配置项编码在 Java 文件中，可扩展性差。